# Phase 01: Foundation & Proof-of-Concept - Plan 01

## Objective
Validate core logic: STT → Translation → Output. Prove all dependencies work and APIs are accessible.

## Context
- Spec file: `@CloudWhisper Flow Project Specification.md`
- Brief: `@../.planning/BRIEF.md`
- Roadmap: `@../.planning/ROADMAP.md`

## Tasks

### Task 1: Environment Setup & Dependencies
- **Type:** Setup
- **Files:** 
  - Create `requirements.txt` with all Phase 01 libraries
  - Create `venv/` (or document activation)
- **Action:**
  1. Create `requirements.txt`:
     ```
     SpeechRecognition==3.10.0
     deep-translator==1.11.4
     pyaudio==0.2.13
     ```
  2. Install: `pip install -r requirements.txt`
  3. Verify each import works: `python -c "import speech_recognition; import deep_translator; import pyaudio"`
- **Verify:** All three libraries import without errors
- **Done:** requirements.txt exists, venv activated, all imports work

### Task 2: Console Script - Audio Recording & STT
- **Type:** Feature
- **Files:**
  - Create `console_test.py`
- **Action:**
  1. Write script that records 5 seconds of microphone input using `SpeechRecognition` + `pyaudio`
  2. Send audio to Google Speech API
  3. Print transcribed text
  4. Handle errors (no microphone, API timeout, network error)
- **Verify:**
  - Script runs: `python console_test.py`
  - After 5 seconds of speaking, text appears in console
  - Errors are caught and printed (not crashes)
- **Done:** console_test.py records and transcribes

### Task 3: Console Script - Translation
- **Type:** Feature
- **Files:**
  - Update `console_test.py`
- **Action:**
  1. After STT, if user speaks English → translate to Spanish (hardcoded for testing)
  2. Use `deep_translator.GoogleTranslator`
  3. Print both original and translated text
  4. Handle translation errors gracefully
- **Verify:**
  - Running script now shows: `Original: "Hello" → Spanish: "Hola"`
  - Translation errors don't crash app
- **Done:** console_test.py records, transcribes, and translates

### Task 4: Console Script - Output & Cleanup
- **Type:** Feature
- **Files:**
  - Update `console_test.py`
- **Action:**
  1. Add final section that simulates output (print to console for now; no `pyautogui` yet)
  2. Add command-line argument for target language (default: Spanish)
  3. Add docstring and comments
  4. Clean up any resource leaks (audio streams, network connections)
- **Verify:**
  - Running `python console_test.py --lang French` translates to French
  - Script completes cleanly, no hanging processes
- **Done:** console_test.py is complete, documented, and works end-to-end

## Verification (Overall)
- All 4 tasks complete
- `console_test.py` runs start-to-finish without errors
- Microphone access works (or error message is clear)
- Google Speech API accessible (or clear error)
- Translation works (or graceful fallback message)
- No resource leaks (check `ps` after script completes)

## Success Criteria
✅ `requirements.txt` created, all dependencies installable
✅ `console_test.py` records audio from microphone
✅ Transcription works (Google Speech API)
✅ Translation works (Google Translate via deep-translator)
✅ Script handles errors gracefully (no crashes)
✅ End-to-end flow: Record → Transcribe → Translate → Output (console)

## Output
Creates `01-01-SUMMARY.md` when complete with:
- Proof that all dependencies work
- Any API quirks discovered
- Command to test: `python console_test.py --lang Spanish`
- Notes on fallback strategies (if used)
